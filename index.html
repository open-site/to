<!DOCTYPE html>
<html>
<head>
    <title> </title>
</head>
<body>
    <script>
        // get the current website link
        var currentUrl = window.location.href;

        // check if the url contains "open-site.github.io/to/?"
        if (currentUrl.includes('open-site.github.io/to/?')) {
            // split the URL by the "?" character
            var parts = currentUrl.split('?');

            // get the part of the url that's after the "?"
            var redirectUrl = parts[1];

            // check if there is something after the main URL
            if (redirectUrl) {
                // fetch the html content of the target site
                fetch('https://' + redirectUrl)
                    .then(response => response.text())
                    .then(html => {
                        // create a temporary element to parse the html
                        var tempElement = document.createElement('div');
                        tempElement.innerHTML = html;

                        // set title of current page to the title of where it's redirecting to
                        document.title = tempElement.querySelector('title').textContent;

                        // redirect to target location
                        window.location.href = 'https://' + redirectUrl;
                    })
            } else {
				// redirect to creation site
                window.location.href = 'https://open-site.github.io/create';
            }
        } else {
            // redirect to creation site
            window.location.href = 'https://open-site.github.io/create';
        }
    </script>
</body>
</html>
